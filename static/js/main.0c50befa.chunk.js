(window.webpackJsonpweather_forecast=window.webpackJsonpweather_forecast||[]).push([[0],{119:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(16),c=n.n(o),i=n(38),l=n(35);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(98);var u=n(153),s=n(79),p=n.n(s),f=n(32),y=n(33),d=n(36),m=n(34),O=n(37),h=n(29),b=n(7),g=n(145),E=n(146),v=n(152),j=Object(b.a)({root:{position:"static",boxShadow:"0px 2px 1px -1px rgba(0,0,0,0.12)"}})(g.a),w=Object(b.a)({root:{color:"grey",fontWeight:600,flexGrow:1,whiteSpace:"nowrap"}})(E.a),D=Object(b.a)({root:{color:"grey",marginLeft:"5px",textDecoration:"none",fontWeight:400}})(v.a),x=n(147),I=r.a.forwardRef((function(e,t){return r.a.createElement(i.b,Object.assign({innerRef:t},e))})),T=function(){return r.a.createElement(j,null,r.a.createElement(x.a,null,r.a.createElement(w,null,"Forecast Application"),r.a.createElement(D,{to:"/",component:I},"HOME"),r.a.createElement(D,{to:"/favorites",component:I},"FAVORITES")))},C=n(25),_=n.n(C),S=n(40),A=n(41),F=n.n(A),L="N72AfpOWL6yOTCAGb5CvAVxzY17a0Jhn",R="https://dataservice.accuweather.com",k=function(e){return"".concat(R,"/locations/").concat("v1","/cities/autocomplete?apikey=").concat(L,"&q=").concat(e)},P=function(e){return"".concat(R,"/currentconditions/").concat("v1","/").concat(e,"?apikey=").concat(L)},W=function(e){return"".concat(R,"/forecasts/").concat("v1","/daily/5day/").concat(e,"?apikey=").concat(L)},V=function(e,t){return"".concat(R,"/locations/").concat("v1","/cities/geoposition/search?apikey=").concat(L,"&q=").concat(e,"%20%2C%20").concat(t,"%20&toplevel=false")},N=function(){var e=Object(S.a)(_.a.mark((function e(t){var n,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.get(k(t));case 3:return n=e.sent,e.next=6,n.data;case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(S.a)(_.a.mark((function e(t,n){var a,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.get(V(t,n));case 3:return a=e.sent,e.next=6,a.data;case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),H=function(){var e=Object(S.a)(_.a.mark((function e(t){var n,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.get(P(t));case 3:return n=e.sent,e.next=6,n.data;case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(S.a)(_.a.mark((function e(t){var n,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.get(W(t));case 3:return n=e.sent,e.next=6,n.data;case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),G=n(18);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(n,!0).forEach((function(t){Object(G.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=n(81),J=Object(B.a)({overrides:{MuiAppBar:{colorPrimary:{backgroundColor:"transparent"}},MuiCardContent:{root:{borderBottomColor:"none","&:last-child":{padding:"1rem !important"}}}}}),q=n(148),U=n(82),$=n(149),Q=n(150),X=n(75),Z=n.n(X),ee=Object(b.a)({root:{display:"flex",marginTop:"1.25rem",justifyContent:"center",marginBottom:"1.25rem"}})(q.a),te=Object(b.a)({root:{display:"flex",flexDirection:"column",width:"30rem",boxShadow:"none"}})(U.a),ne=Object(b.a)({root:{maxWidth:"60rem",display:"flex",justifyContent:"center",flexDirection:"column"}})(q.a),ae=Object(b.a)({root:{padding:"1rem"}})(U.a),re=Object(b.a)({root:Object(G.a)({justifyContent:"space-between"},J.breakpoints.up("xs"),{width:"100%"})})($.a),oe=(Object(b.a)({root:{}})($.a),Object(b.a)({root:Object(G.a)({padding:"0.5rem 1rem",minWidth:"16.875rem"},J.breakpoints.down("xs"),{width:"100%"})})(U.a)),ce=Object(b.a)({root:{fontSize:"1.5rem",color:"darkgrey",fontWeight:500,display:"flex",justifyContent:"space-between",alignItems:"center",whiteSpace:"nowrap"}})(E.a),ie=Object(b.a)({root:{fontSize:"1rem",color:"grey",fontWeight:300}})(E.a),le=Object(b.a)({root:{display:"flex",fontSize:"4rem",margin:"0 0.3125rem 0 0",justifyContent:"flex-end"}})(E.a),ue=Object(b.a)({root:{alignSelf:"center"}})(Q.a),se=Object(b.a)({root:Object(G.a)({height:"2.2rem",marginTop:"1.25rem",whiteSpace:"nowrap",color:"grey",boxShadow:"0px 1px 3px 0px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 2px 1px -1px rgba(0,0,0,0.12)"},J.breakpoints.down("xs"),{display:"none"})})(v.a),pe=Object(b.a)({root:Object(G.a)({display:"none"},J.breakpoints.down("xs"),{display:"inline-block",color:"grey",fontSize:"2rem"})})(Z.a),fe=Object(b.a)({root:{fontSize:"1.5rem",display:"flex",fontFamily:"inherit",justifyContent:"flex-end"}})(E.a),ye=Object(b.a)({root:Object(G.a)({justifyContent:"space-evenly",display:"flex",marginTop:"3rem"},J.breakpoints.down("xs"),{display:"flex",flexDirection:"column",overflow:"scroll",height:"14.6875rem",flexWrap:"inherit",justifyContent:"flex-start",marginTop:"1rem"})})($.a),de=Object(b.a)({root:{display:"flex",flexDirection:"column",minWidth:"4rem"}})($.a),me=Object(b.a)({root:{display:"flex",justifyContent:"space-around"}})($.a),Oe=Object(b.a)({root:{fontWeight:500,color:"darkgrey",alignSelf:"center"}})(E.a),he=Object(b.a)({root:{fontWeight:400,color:"darkgrey",alignSelf:"center"}})(E.a),be=Object(b.a)({root:{fontWeight:400,color:"grey",alignSelf:"center"}})(E.a),ge=n(80),Ee=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).addFavoritesHandler=function(){var e=n.props,t=e.city,a=e.cityKey;(0,e.doAddFavoritesHandler)(t,a)},n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"componentDidUpdate",value:function(e,t){var n=this.props.cityKey;this.props.cityKey!==e.cityKey&&(this.props.doLoadDailyForecast(n),this.props.doLoadFiveDayForecast(n))}},{key:"render",value:function(){var e=this.props,t=e.oneDay,n=e.daily,a=e.city,o=this.props,c=o.doLoadCitiesList,i=o.doGetSelectedCity,l=o.selectedCity;return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,null,r.a.createElement(ee,null,r.a.createElement(te,null,r.a.createElement(ge.a,{value:l,loadOptions:c,onChange:i}))),r.a.createElement(ne,null,r.a.createElement(ae,null,r.a.createElement(re,{container:!0},r.a.createElement(oe,null,r.a.createElement($.a,{item:!0,style:{justifyContent:"space-between",flexWrap:"nowrap",display:"flex"}},r.a.createElement(ce,null,a),r.a.createElement(pe,{onClick:this.addFavoritesHandler})),r.a.createElement($.a,{item:!0},r.a.createElement(ie,null,t.date),r.a.createElement(le,null,t.temperature,t.unit,"\xb0"),r.a.createElement(fe,{component:"div"},r.a.createElement(ue,{src:"https://raw.githubusercontent.com/SejoB/Sergey-Bekker-04-09-2019/master/public/weatherIcons/"+t.weatherIcon+"-s.png",alt:"icon"}),t.text))),r.a.createElement($.a,{item:!0},r.a.createElement(se,{onClick:this.addFavoritesHandler},"Add to Favorites"))),r.a.createElement(ye,{container:!0},n.map((function(e,t){return r.a.createElement(U.a,{key:t,style:{padding:"0.5rem",margin:"0.5rem"}},r.a.createElement(de,{item:!0},r.a.createElement(ue,{src:"https://raw.githubusercontent.com/SejoB/Sergey-Bekker-04-09-2019/master/public/weatherIcons/"+e.fiveDayIcon+"-s.png",alt:"icon"}),r.a.createElement(Oe,null,e.date),r.a.createElement(me,null,r.a.createElement(he,null,e.min,"\xb0"),r.a.createElement(be,null,e.max,"\xb0"))))})))))))}}]),t}(a.Component),ve=Object(l.b)((function(e){var t=e.home;return{cityKey:t.cityKey,city:t.city,oneDay:t.oneDay,daily:t.daily,notification:t.notification}}),(function(e){return{doLoadDailyForecast:function(t){return e(function(e){return function(t){t({type:"LOADING_DAILY_FORECAST"}),H(e).then((function(e){t({type:"DAILY_FORECAST_LOADED",payload:e})})).catch((function(e){return t({type:"DAILY_FORECAST_ERROR",payload:e.message})}))}}(t))},doLoadFiveDayForecast:function(t){return e(function(e){return function(t){t({type:"LOADING_FIVE_DAY_FORECAST"}),M(e).then((function(e){t({type:"FIVE_DAY_FORECAST_LOADED",payload:e})})).catch((function(e){return t({type:"FIVE_DAY_FORECAST_ERROR",payload:e.message})}))}}(t))},doLoadCitiesList:function(t,n){return e(function(e,t){return function(n){n({type:"LOADING_CITIES_LIST"});var a=[];N(e).then((function(e){n({type:"CITIES_LIST_LOADED"}),e.forEach((function(e){a.push({label:e.LocalizedName,key:e.Key})})),t(a)})).catch((function(e){return n({type:"CITIES_LIST_ERROR",payload:e.message})}))}}(t,n))},doGetSelectedCity:function(t){return e(function(e){return function(t){t({type:"GET_SELECTED_CITY",payload:e})}}(t))},doAddFavoritesHandler:function(t,n){return e(function(e,t){return function(n){n({type:"ADD_TO_FAVORITE"}),localStorage.setItem(e,t)}}(t,n))}}}))(Ee),je=n(76),we=n.n(je),De=n(151),xe=Object(b.a)({root:{cursor:"pointer",color:"darkgrey"}})(we.a),Ie=Object(b.a)({root:{display:"flex",maxWidth:"38rem"}})(q.a),Te=Object(b.a)({root:{height:"4rem",width:"20rem",margin:"1rem 0 1rem 0",padding:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center"}})(De.a),Ce=Object(b.a)({root:{fontSize:"2rem",color:"darkgrey",fontWeight:500,display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer"}})(E.a),_e=Object(b.a)({root:{display:"flex",flexDirection:"column",alignItems:"center",maxHeight:"85vh",flexWrap:"nowrap",padding:"0 2rem 0 2rem",overflow:"overlay"}})($.a),Se=Object(b.a)({root:{marginTop:"1rem"}})(U.a),Ae=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).getFavoriteCityHandler=function(e){n.props.doLoadFavoritesCity(e),n.props.history.push("/")},n.deleteFavoritesHandler=function(e){var t=n.props.favorites;n.props.doDeleteFavoritesCity(e),t.length<=1&&n.props.history.push("/")},n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.props.doLoadFavoritesList()}},{key:"render",value:function(){var e=this,t=this.props.favorites;return r.a.createElement(Ie,null,r.a.createElement(Se,null,r.a.createElement(_e,{container:!0},t.map((function(t,n){return r.a.createElement($.a,{item:!0,key:n},r.a.createElement(Te,null,r.a.createElement(Ce,{onClick:function(){return e.getFavoriteCityHandler(t)}},t[0]),r.a.createElement(xe,{onClick:function(){return e.deleteFavoritesHandler(t[0])}})))})))))}}]),t}(a.Component),Fe=Object(l.b)((function(e){return{favorites:e.favorite.favorites}}),(function(e){return{doLoadFavoritesList:function(){return e((function(e){e({type:"LOAD_FAVORITE_LIST",payload:Object.entries(z({},localStorage))})}))},doDeleteFavoritesCity:function(t){return e(function(e){return function(t){localStorage.removeItem(e),t({type:"DELETE_FROM_FAVORITE",payload:Object.entries(z({},localStorage))})}}(t))},doLoadFavoritesCity:function(t){return e(function(e){return function(t){t({type:"LOAD_CITY_FROM_FAVORITES",payload:e})}}(t))}}}))(Ae),Le=function(e){function t(){return Object(f.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(T,null),r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",component:ve}),r.a.createElement(h.a,{path:"/favorites",component:Fe}),r.a.createElement(h.a,{exact:!0,path:"/",component:ve})))}}]),t}(a.Component),Re=n(27),ke=n(77),Pe=function(e){return function(t){return function(n){console.group(n.type),console.info("dispatching",n);var a=t(n);return console.log("next state",e.getState()),console.groupEnd(),a}}},We=n(78),Ve=function(e){return function(t,n,a){return e((function(e,n){var a,r=performance.now(),o=t(e,n),c=performance.now(),i=(a=c-r,Math.round(100*a)/100);return console.log("reducer process time:",i),o}),n,a)}};function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(n,!0).forEach((function(t){Object(G.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var He={cityKey:0,city:"",daily:[],notification:"",oneDay:{date:"",temperature:0,text:"",unit:"",weatherIcon:0}};function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(n,!0).forEach((function(t){Object(G.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ke={favorites:[],notification:""},ze=Object(Re.combineReducers)({home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCHING_LOCATION":return Ye({},e,{notification:"fetching data..."});case"FETCHED_LOCATION":return Ye({},e,{cityKey:t.payload.Key,city:t.payload.LocalizedName,notification:""});case"LOCATION_ERROR":return Ye({},e,{notification:t.payload});case"LOADING_DAILY_FORECAST":return Ye({},e,{notification:"loading daily forecast..."});case"DAILY_FORECAST_LOADED":var n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=new Date(t.payload[0].LocalObservationDateTime),r=t.payload[0].Temperature.Imperial.Value,o=t.payload[0].Temperature.Imperial.Unit,c=t.payload[0].WeatherText,i=t.payload[0].WeatherIcon;return Ye({},e,{oneDay:{date:"".concat(n[a.getDay()]," ").concat(a.getHours(),":").concat((a.getMinutes()<10?"0":"")+a.getMinutes()),temperature:r,text:c,unit:o,weatherIcon:i},notification:""});case"DAILY_FORECAST_ERROR":return Ye({},e,{notification:t.payload});case"LOADING_FIVE_DAY_FORECAST":return Ye({},e,{notification:"loading five day forecast..."});case"FIVE_DAY_FORECAST_LOADED":var l=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],u=[];return t.payload.DailyForecasts.forEach((function(e){var t=new Date(e.Date),n=e.Temperature.Maximum.Value,a=e.Temperature.Minimum.Value,r=e.Day.Icon;u.push({date:"".concat(l[t.getDay()]),min:a,max:n,fiveDayIcon:r})})),Ye({},e,{daily:u,notification:""});case"FIVE_DAY_FORECAST_ERROR":return Ye({},e,{notification:t.payload});case"LOADING_CITIES_LIST":return Ye({},e,{notification:"...loading cities list"});case"CITIES_LIST_LOADED":return Ye({},e,{notification:"cities list loaded"});case"CITIES_LIST_ERROR":return Ye({},e,{notification:t.payload});case"GET_SELECTED_CITY":var s=t.payload.label,p=t.payload.key;return Ye({},e,{city:s,cityKey:p});case"LOAD_CITY_FROM_FAVORITES":return Ye({},e,{city:t.payload[0],cityKey:t.payload[1]});default:return e}},favorite:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_FAVORITE":return Ge({},e,{notification:"city is added"});case"LOAD_FAVORITE_LIST":return Ge({},e,{favorites:t.payload});case"DELETE_FROM_FAVORITE":return Ge({},e,{favorites:t.payload,notification:"city is deleted"});default:return e}}});var Be=function(e){var t=[ke.a,Pe],n=[Re.applyMiddleware.apply(void 0,t),Ve],a=We.composeWithDevTools.apply(void 0,n);return Object(Re.createStore)(ze,e,a)}();Be.dispatch((function(e){var t;e({type:"FETCHING_LOCATION"}),new Promise((function(e,n){navigator.geolocation?navigator.geolocation.getCurrentPosition(e,n,t):alert("Geolocation is not enabled")})).then((function(t){var n=t.coords.latitude,a=t.coords.longitude;Y(n,a).then((function(t){return e({type:"FETCHED_LOCATION",payload:t})}))})).catch((function(t){return e({type:"LOCATION_ERROR",payload:t.message})}))})),c.a.render(r.a.createElement(l.a,{store:Be},r.a.createElement(i.a,null,r.a.createElement(p.a,{theme:J},r.a.createElement(u.a,null),r.a.createElement(Le,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},89:function(e,t,n){e.exports=n(119)},98:function(e,t,n){}},[[89,1,2]]]);
//# sourceMappingURL=main.0c50befa.chunk.js.map